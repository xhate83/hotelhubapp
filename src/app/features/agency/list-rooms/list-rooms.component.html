<div appBlurCard>
    <app-header-feature title="Mis Habitaciones" icon="hotel"></app-header-feature>

    <div class="mt-8">

        <div class="grid grid-cols-1 sm:grid-cols-4 gap-4">
            <div appGridCard>
                <div class="flex flex-grow items-center mb-2">
                    <mat-icon matRipple class="rounded-lg mat-icon-xl-custom cursor-pointer hover:text-gray-200"
                    (click)="goToCreateRoom()">
                        add_box
                    </mat-icon>
                </div>
                
                <button color="primary" mat-raised-button (click)="goToCreateRoom()">
                    Crear Habitación
                </button>
            </div>

            <ng-container *ngFor="let room of rooms">
                <div appGridCard>

                    <div class="flex flex-col w-full space-y-2 mb-2 sm:mb-3">
                        <div class="border-b-2 border-yellow-200 dark:border-cyan-700">
                            <span class="font-medium text-yellow-400">ID:</span> {{room.id}}
                        </div>
                        <div class="border-b-2 border-yellow-200 dark:border-cyan-700">
                            <span class="font-medium  text-yellow-400">Hotel:</span> {{room.hotel?.name}}
                        </div>
                        <div class="border-b-2 border-yellow-200 dark:border-cyan-700">
                            <span class="font-medium text-yellow-400">Descipción:</span> {{room.description}}
                        </div>
                        <div class="border-b-2 border-yellow-200 dark:border-cyan-700">
                            <span class="font-medium text-yellow-400">Costo:</span> {{room.cost | currency:'USD'}}
                        </div>
                        <div class="border-b-2 border-yellow-200 dark:border-cyan-700">
                            <span class="mr-2 font-medium text-yellow-400">Impuestos:</span> 
                            <ng-container *ngFor="let tax of room.taxes; index as index">
                                <span class="mr-1">{{tax.value}}{{index !== room.taxes.length - 1 ? ',' : ''}}</span>
                            </ng-container>
                        </div>
                        <div class="border-b-2 border-yellow-200 dark:border-cyan-700">
                            <span class="font-medium text-yellow-400">Tipo:</span> {{room.type.value}}
                        </div>
                        <div>
                            <span class="font-medium text-yellow-400">Ubicación:</span> {{room.ubication.value}}
                        </div>
                    </div>
                    
                    <div class="w-full flex flex-row items-center justify-between space-x-2">
                        <button mat-raised-button color="primary" (click)="goToUpdateRoom(room.hotelId, room.id)">
                            Editar
                        </button>
                        <div class="flex flex-col items-end">
                            <div class="text-white dark:text-yellow-400">
                                {{room.state.id === 'available' ? 'Deshabilitar' : 'Habilitar'}}
                            </div>
                             
                            <mat-slide-toggle
                                (change)="onToggleChangeState($event, room.hotelId, room.id)"
                                color="primary"
                                [checked]="room.state.id === 'available'">
                        
                            </mat-slide-toggle>
                        </div>
                       
                    </div>
    
                </div>
            </ng-container>
           
        </div>

    </div>
    
</div>